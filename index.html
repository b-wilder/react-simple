<html>
<head>
<script src="https://unpkg.com/react@15/dist/react.min.js"> </script><script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js">
</script>
<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">

    class Hello extends React.Component {
      constructor(props){
        super(props);
        this.state = {
            messageFromForm: null
        };
        this.setMessage = this.setMessage.bind(this);
      }

      setMessage = (messageFromFormVal) => {
        this.setState({ messageFromForm: messageFromFormVal });
      }

      render() {
        return (
          <div>
            <h1>Hello {this.state.messageFromForm}</h1>
            <InputForm setMessageCallback={this.setMessage}/>
          </div>
        );
      }
    }

    class InputForm extends React.Component {
      constructor(){
        super();
        this.state = {
          message: "my pal (from state)!"
        };
        this.updateMessage = this.updateMessage.bind(this);
      }

      updateMessage() {
        this.props.setMessageCallback(this.state.message);
      }

      render() {
        return (
          <form>
            <input type="text" value={this.state.message}/>
            <button onClick={this.updateMessage}>Click me!</button>
          </form>
        );
      }
    }
    ReactDOM.render(
      <Hello message="Friendo!"/>,
      document.getElementById("root")
    );

  </script>
</body>
</html>
