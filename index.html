<html>
<head>
<script src="https://unpkg.com/react@15/dist/react.min.js"> </script><script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js">
</script>
<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">

    class Hello extends React.Component {
      constructor(props){
        super(props);
        this.setMessage = this.setMessage.bind(this);
        this.state = {
          messageFromForm: ''
        };
      }

      setMessage(messageFromFormVal) {
        this.setState({ messageFromForm: messageFromFormVal });
      }

      render() {
        const messageFromFormVal = this.state.messageFromForm;
        return (
          <div>
            <h1>Hello {messageFromFormVal}</h1>
            <InputForm setMessageCallback={this.setMessage} messageVal={messageFromFormVal}/>
          </div>
        );
      }
    }

    class InputForm extends React.Component {
      constructor(props){
        super(props);
        this.handleChange = this.handleChange.bind(this);
        this.state = {
          message: ''
        };
      }

      handleChange(e){
        this.props.setMessageCallback(e.target.value);
      }

      render() {
        const messageVal = this.props.message;
        return(
          <form>
            <input type="text" value={messageVal} onChange={this.handleChange}/>
          </form>
        );
      }
    }
    ReactDOM.render(
      <Hello/>,
      document.getElementById("root")
    );

  </script>
</body>
</html>
